{"openapi":"3.0.3","info":{"title":"API GATEWAY","version":"1.0.0"},"components":{"schemas":{}},"paths":{"/api/auth/register":{"post":{"tags":["Auth"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","minLength":1,"format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"},"password":{"type":"string","minLength":6,"allOf":[{"type":"string","pattern":"^([\\S]{6,})$"},{"type":"string","pattern":"[A-Z]"},{"type":"string","pattern":"[a-z]"},{"type":"string","pattern":"[\\d]"},{"type":"string","pattern":"[\\W]{1,}"}]},"name":{"type":"string","minLength":1},"system":{"default":"CONDICOES_CERTAS","type":"string","enum":["CONDICOES_CERTAS","FOLLOW_UP","COMMUNITY"]}},"required":["email","name"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"accessToken":{"type":"string"},"user":{"type":"object","properties":{"id":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"email":{"type":"string","minLength":1,"format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"},"name":{"type":"string"},"role":{"type":"string","enum":["ADMIN","USER"]},"isVerifiedEmail":{"type":"boolean"},"userType":{"type":"string","enum":["INDIVIDUAL","COMPANY_MEMBER"]},"companyRole":{"nullable":true,"type":"string","enum":["OWNER","ADMIN","USER"]},"companyType":{"nullable":true,"type":"string","enum":["BROKER","BROKER_BRANCH","BROKER_ASSOCIATION"]},"companyId":{"nullable":true,"type":"string"},"loginType":{"type":"string","enum":["google","password"]},"subscriptionStatus":{"type":"string"},"expiresAt":{"anyOf":[{"type":"string","format":"date-time","pattern":"^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"},{"type":"string","nullable":true,"enum":[null]}]},"steps":{"type":"object","properties":{"ADDRESS":{"default":"PENDING","type":"string","enum":["PENDING","COMPLETE"]},"WORKING_INSURERS":{"default":"PENDING","type":"string","enum":["PENDING","COMPLETE"]}},"required":["ADDRESS","WORKING_INSURERS"],"additionalProperties":false}},"required":["id","email","name","role","isVerifiedEmail","userType","companyRole","companyType","companyId","loginType","subscriptionStatus","expiresAt","steps"],"additionalProperties":false}},"required":["accessToken","user"],"additionalProperties":false}}}}}}},"/api/auth/login":{"post":{"tags":["Auth"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","minLength":1,"format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"},"password":{"type":"string","minLength":1},"system":{"default":"CONDICOES_CERTAS","type":"string","enum":["CONDICOES_CERTAS","FOLLOW_UP","COMMUNITY"]}},"required":["email","password"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"accessToken":{"type":"string"},"user":{"type":"object","properties":{"id":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"email":{"type":"string","minLength":1,"format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"},"name":{"type":"string"},"role":{"type":"string","enum":["ADMIN","USER"]},"isVerifiedEmail":{"type":"boolean"},"userType":{"type":"string","enum":["INDIVIDUAL","COMPANY_MEMBER"]},"companyRole":{"nullable":true,"type":"string","enum":["OWNER","ADMIN","USER"]},"companyType":{"nullable":true,"type":"string","enum":["BROKER","BROKER_BRANCH","BROKER_ASSOCIATION"]},"companyId":{"nullable":true,"type":"string"},"loginType":{"type":"string","enum":["google","password"]},"subscriptionStatus":{"type":"string"},"expiresAt":{"anyOf":[{"type":"string","format":"date-time","pattern":"^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"},{"type":"string","nullable":true,"enum":[null]}]},"steps":{"type":"object","properties":{"ADDRESS":{"default":"PENDING","type":"string","enum":["PENDING","COMPLETE"]},"WORKING_INSURERS":{"default":"PENDING","type":"string","enum":["PENDING","COMPLETE"]}},"required":["ADDRESS","WORKING_INSURERS"],"additionalProperties":false}},"required":["id","email","name","role","isVerifiedEmail","userType","companyRole","companyType","companyId","loginType","subscriptionStatus","expiresAt","steps"],"additionalProperties":false}},"required":["accessToken","user"],"additionalProperties":false}}}}}}},"/api/auth/login/google":{"post":{"tags":["Auth"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string"}},"required":["token"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"accessToken":{"type":"string"},"user":{"type":"object","properties":{"id":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"email":{"type":"string","minLength":1,"format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"},"name":{"type":"string"},"role":{"type":"string","enum":["ADMIN","USER"]},"isVerifiedEmail":{"type":"boolean"},"userType":{"type":"string","enum":["INDIVIDUAL","COMPANY_MEMBER"]},"companyRole":{"nullable":true,"type":"string","enum":["OWNER","ADMIN","USER"]},"companyType":{"nullable":true,"type":"string","enum":["BROKER","BROKER_BRANCH","BROKER_ASSOCIATION"]},"companyId":{"nullable":true,"type":"string"},"loginType":{"type":"string","enum":["google","password"]},"subscriptionStatus":{"type":"string"},"expiresAt":{"anyOf":[{"type":"string","format":"date-time","pattern":"^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"},{"type":"string","nullable":true,"enum":[null]}]},"steps":{"type":"object","properties":{"ADDRESS":{"default":"PENDING","type":"string","enum":["PENDING","COMPLETE"]},"WORKING_INSURERS":{"default":"PENDING","type":"string","enum":["PENDING","COMPLETE"]}},"required":["ADDRESS","WORKING_INSURERS"],"additionalProperties":false}},"required":["id","email","name","role","isVerifiedEmail","userType","companyRole","companyType","companyId","loginType","subscriptionStatus","expiresAt","steps"],"additionalProperties":false}},"required":["accessToken","user"],"additionalProperties":false}}}}}}},"/api/auth/register/google":{"post":{"tags":["Auth"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string"}},"required":["token"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"accessToken":{"type":"string"},"user":{"type":"object","properties":{"id":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"email":{"type":"string","minLength":1,"format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"},"name":{"type":"string"},"role":{"type":"string","enum":["ADMIN","USER"]},"isVerifiedEmail":{"type":"boolean"},"userType":{"type":"string","enum":["INDIVIDUAL","COMPANY_MEMBER"]},"companyRole":{"nullable":true,"type":"string","enum":["OWNER","ADMIN","USER"]},"companyType":{"nullable":true,"type":"string","enum":["BROKER","BROKER_BRANCH","BROKER_ASSOCIATION"]},"companyId":{"nullable":true,"type":"string"},"loginType":{"type":"string","enum":["google","password"]},"subscriptionStatus":{"type":"string"},"expiresAt":{"anyOf":[{"type":"string","format":"date-time","pattern":"^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"},{"type":"string","nullable":true,"enum":[null]}]},"steps":{"type":"object","properties":{"ADDRESS":{"default":"PENDING","type":"string","enum":["PENDING","COMPLETE"]},"WORKING_INSURERS":{"default":"PENDING","type":"string","enum":["PENDING","COMPLETE"]}},"required":["ADDRESS","WORKING_INSURERS"],"additionalProperties":false}},"required":["id","email","name","role","isVerifiedEmail","userType","companyRole","companyType","companyId","loginType","subscriptionStatus","expiresAt","steps"],"additionalProperties":false}},"required":["accessToken","user"],"additionalProperties":false}}}}}}},"/api/auth/login-or-register/google":{"post":{"tags":["Auth"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string"}},"required":["token"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"accessToken":{"type":"string"},"user":{"type":"object","properties":{"id":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"email":{"type":"string","minLength":1,"format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"},"name":{"type":"string"},"role":{"type":"string","enum":["ADMIN","USER"]},"isVerifiedEmail":{"type":"boolean"},"userType":{"type":"string","enum":["INDIVIDUAL","COMPANY_MEMBER"]},"companyRole":{"nullable":true,"type":"string","enum":["OWNER","ADMIN","USER"]},"companyType":{"nullable":true,"type":"string","enum":["BROKER","BROKER_BRANCH","BROKER_ASSOCIATION"]},"companyId":{"nullable":true,"type":"string"},"loginType":{"type":"string","enum":["google","password"]},"subscriptionStatus":{"type":"string"},"expiresAt":{"anyOf":[{"type":"string","format":"date-time","pattern":"^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"},{"type":"string","nullable":true,"enum":[null]}]},"steps":{"type":"object","properties":{"ADDRESS":{"default":"PENDING","type":"string","enum":["PENDING","COMPLETE"]},"WORKING_INSURERS":{"default":"PENDING","type":"string","enum":["PENDING","COMPLETE"]}},"required":["ADDRESS","WORKING_INSURERS"],"additionalProperties":false}},"required":["id","email","name","role","isVerifiedEmail","userType","companyRole","companyType","companyId","loginType","subscriptionStatus","expiresAt","steps"],"additionalProperties":false}},"required":["accessToken","user"],"additionalProperties":false}}}}}}},"/api/auth/update-password":{"patch":{"tags":["Auth"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"currentPassword":{"type":"string","minLength":1},"newPassword":{"type":"string","minLength":6,"allOf":[{"type":"string","pattern":"^([\\S]{6,})$"},{"type":"string","pattern":"[A-Z]"},{"type":"string","pattern":"[a-z]"},{"type":"string","pattern":"[\\d]"},{"type":"string","pattern":"[\\W]{1,}"}]}},"required":["currentPassword","newPassword"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false}}}}}}},"/api/auth/refresh-token":{"post":{"tags":["Auth"],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"accessToken":{"type":"string"},"user":{"type":"object","properties":{"id":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"email":{"type":"string","minLength":1,"format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"},"name":{"type":"string"},"role":{"type":"string","enum":["ADMIN","USER"]},"isVerifiedEmail":{"type":"boolean"},"userType":{"type":"string","enum":["INDIVIDUAL","COMPANY_MEMBER"]},"companyRole":{"nullable":true,"type":"string","enum":["OWNER","ADMIN","USER"]},"companyType":{"nullable":true,"type":"string","enum":["BROKER","BROKER_BRANCH","BROKER_ASSOCIATION"]},"companyId":{"nullable":true,"type":"string"},"loginType":{"type":"string","enum":["google","password"]},"subscriptionStatus":{"type":"string"},"expiresAt":{"anyOf":[{"type":"string","format":"date-time","pattern":"^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"},{"type":"string","nullable":true,"enum":[null]}]},"steps":{"type":"object","properties":{"ADDRESS":{"default":"PENDING","type":"string","enum":["PENDING","COMPLETE"]},"WORKING_INSURERS":{"default":"PENDING","type":"string","enum":["PENDING","COMPLETE"]}},"required":["ADDRESS","WORKING_INSURERS"],"additionalProperties":false}},"required":["id","email","name","role","isVerifiedEmail","userType","companyRole","companyType","companyId","loginType","subscriptionStatus","expiresAt","steps"],"additionalProperties":false}},"required":["accessToken","user"],"additionalProperties":false}}}}}}},"/api/auth/logout":{"post":{"tags":["Auth"],"responses":{"200":{"description":"Default Response"}}}},"/api/auth/recover-password":{"post":{"tags":["Auth"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","minLength":1,"format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"}},"required":["email"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false}}}}}}},"/api/magic-links/company-invite/{id}":{"get":{"tags":["MagicLink"],"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"companyType":{"type":"string","enum":["BROKER","BROKER_BRANCH","BROKER_ASSOCIATION"]},"companyId":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"name":{"type":"string","minLength":1}},"required":["companyType","companyId","name"],"additionalProperties":false}}}}}}},"/api/magic-links/company-invite/{id}/accept":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"password":{"type":"string","minLength":6,"allOf":[{"type":"string","pattern":"^([\\S]{6,})$"},{"type":"string","pattern":"[A-Z]"},{"type":"string","pattern":"[a-z]"},{"type":"string","pattern":"[\\d]"},{"type":"string","pattern":"[\\W]{1,}"}]}},"required":["password"]}}},"required":true},"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"id","required":true}],"responses":{"201":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"accessToken":{"type":"string"},"user":{"type":"object","properties":{"id":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"email":{"type":"string","minLength":1,"format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"},"name":{"type":"string"},"role":{"type":"string","enum":["ADMIN","USER"]},"isVerifiedEmail":{"type":"boolean"},"userType":{"type":"string","enum":["INDIVIDUAL","COMPANY_MEMBER"]},"companyRole":{"nullable":true,"type":"string","enum":["OWNER","ADMIN","USER"]},"companyType":{"nullable":true,"type":"string","enum":["BROKER","BROKER_BRANCH","BROKER_ASSOCIATION"]},"companyId":{"nullable":true,"type":"string"},"loginType":{"type":"string","enum":["google","password"]},"subscriptionStatus":{"type":"string"},"expiresAt":{"anyOf":[{"type":"string","format":"date-time","pattern":"^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"},{"type":"string","nullable":true,"enum":[null]}]},"steps":{"type":"object","properties":{"ADDRESS":{"default":"PENDING","type":"string","enum":["PENDING","COMPLETE"]},"WORKING_INSURERS":{"default":"PENDING","type":"string","enum":["PENDING","COMPLETE"]}},"required":["ADDRESS","WORKING_INSURERS"],"additionalProperties":false}},"required":["id","email","name","role","isVerifiedEmail","userType","companyRole","companyType","companyId","loginType","subscriptionStatus","expiresAt","steps"],"additionalProperties":false}},"required":["accessToken","user"],"additionalProperties":false}}}}}}},"/api/user/users":{"get":{"parameters":[{"schema":{"default":1,"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"in":"query","name":"page","required":false},{"schema":{"default":10,"type":"integer","minimum":5,"maximum":9007199254740991},"in":"query","name":"page_items","required":false},{"schema":{"type":"string"},"in":"query","name":"search","required":false},{"schema":{"default":"asc","type":"string","enum":["asc","desc"]},"in":"query","name":"sort","required":false},{"schema":{"default":"createdAt","type":"string","enum":["name","email","createdAt"]},"in":"query","name":"orderBy","required":false},{"schema":{"type":"string","enum":["ACTIVE","INCOMPLETE","INCOMPLETE_EXPIRED","TRIALING","PAST_DUE","CANCELED","UNPAID","PAUSED","NOT_SUBSCRIBED","TRIAL_EXPIRED"]},"in":"query","name":"status","required":false}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"page":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"page_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"total_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"users":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"phone":{"nullable":true,"type":"string"},"email":{"type":"string"},"invoiceEmail":{"nullable":true,"type":"string"},"userType":{"type":"string","enum":["INDIVIDUAL","COMPANY_MEMBER"]},"subscriptionStatus":{"type":"string","enum":["ACTIVE","INCOMPLETE","INCOMPLETE_EXPIRED","TRIALING","PAST_DUE","CANCELED","UNPAID","PAUSED","NOT_SUBSCRIBED","TRIAL_EXPIRED"]},"createdAt":{"type":"string","format":"date-time"},"expiresAt":{"nullable":true,"type":"string","format":"date-time"},"plan":{"nullable":true,"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"price":{"type":"number"},"trialPeriodInDays":{"type":"number"}},"required":["id","name","price","trialPeriodInDays"],"additionalProperties":false},"CC_Service_Seat":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"segment":{"nullable":true,"type":"string","enum":["AUTOMOVEL","RESIDENCIAL"]},"ccSeatPurchase":{"nullable":true,"type":"object","properties":{"id":{"type":"string"},"subscriptionId":{"type":"string"},"subscriptionStatus":{"type":"string","enum":["ACTIVE","INCOMPLETE","INCOMPLETE_EXPIRED","PAST_DUE","CANCELED","UNPAID","PAUSED"]}},"required":["id","subscriptionId","subscriptionStatus"],"additionalProperties":false}},"required":["id","segment","ccSeatPurchase"],"additionalProperties":false}}},"required":["id","name","phone","email","invoiceEmail","userType","subscriptionStatus","createdAt","expiresAt","plan","CC_Service_Seat"],"additionalProperties":false}}},"required":["page","page_items","total_items","users"],"additionalProperties":false}}}}}}},"/api/user/profile":{"get":{"tags":["User"],"responses":{"200":{"description":"Default Response"}}},"patch":{"tags":["User"],"responses":{"200":{"description":"Default Response"}}}},"/api/user/verify":{"post":{"tags":["User"],"responses":{"200":{"description":"Default Response"}}}},"/api/user/verify/{token}":{"post":{"tags":["User"],"parameters":[{"schema":{"type":"string"},"in":"path","name":"token","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/user/attach-google":{"patch":{"tags":["User"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string","format":"jwt"},"shouldChangeEmail":{"default":false,"type":"boolean"}},"required":["token"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"page":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"page_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"total_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"users":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"phone":{"nullable":true,"type":"string"},"email":{"type":"string"},"invoiceEmail":{"nullable":true,"type":"string"},"userType":{"type":"string","enum":["INDIVIDUAL","COMPANY_MEMBER"]},"subscriptionStatus":{"type":"string","enum":["ACTIVE","INCOMPLETE","INCOMPLETE_EXPIRED","TRIALING","PAST_DUE","CANCELED","UNPAID","PAUSED","NOT_SUBSCRIBED","TRIAL_EXPIRED"]},"createdAt":{"type":"string","format":"date-time"},"expiresAt":{"nullable":true,"type":"string","format":"date-time"},"plan":{"nullable":true,"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"price":{"type":"number"},"trialPeriodInDays":{"type":"number"}},"required":["id","name","price","trialPeriodInDays"],"additionalProperties":false},"CC_Service_Seat":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"segment":{"nullable":true,"type":"string","enum":["AUTOMOVEL","RESIDENCIAL"]},"ccSeatPurchase":{"nullable":true,"type":"object","properties":{"id":{"type":"string"},"subscriptionId":{"type":"string"},"subscriptionStatus":{"type":"string","enum":["ACTIVE","INCOMPLETE","INCOMPLETE_EXPIRED","PAST_DUE","CANCELED","UNPAID","PAUSED"]}},"required":["id","subscriptionId","subscriptionStatus"],"additionalProperties":false}},"required":["id","segment","ccSeatPurchase"],"additionalProperties":false}}},"required":["id","name","phone","email","invoiceEmail","userType","subscriptionStatus","createdAt","expiresAt","plan","CC_Service_Seat"],"additionalProperties":false}}},"required":["page","page_items","total_items","users"],"additionalProperties":false}}}}}}},"/api/user/admin/delete-user":{"delete":{"tags":["Admin","User"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"userId":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"reason":{"type":"string","minLength":10}},"required":["userId","reason"]}}},"required":true},"responses":{"200":{"description":"Default Response"}}}},"/api/user/admin/chat-usage":{"get":{"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"chatMessageCount":{"type":"number"},"chatCount":{"type":"number"},"mostActiveDay":{"type":"string"},"mostActiveHour":{"type":"string"},"avgMessagesPerChat":{"type":"number"}},"required":["chatMessageCount","chatCount","avgMessagesPerChat"],"additionalProperties":false}}}}}}},"/api/logs/visited-page":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"page":{"type":"string","enum":["CC_DOCUMENTS","CC_ANALYSIS"]}},"required":["page"]}}},"required":true},"responses":{"200":{"description":"Default Response"}}}},"/api/logs/clicked-button":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"button":{"type":"string","enum":["WHATSAPP_HELP"]}},"required":["button"]}}},"required":true},"responses":{"200":{"description":"Default Response"}}}},"/api/logs/admin/user/{userId}/excel":{"get":{"parameters":[{"schema":{"default":1,"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"in":"query","name":"page","required":false},{"schema":{"default":10,"type":"integer","minimum":5,"maximum":9007199254740991},"in":"query","name":"page_items","required":false},{"schema":{"type":"string"},"in":"query","name":"search","required":false},{"schema":{"default":"desc","type":"string","enum":["asc","desc"]},"in":"query","name":"sort","required":false},{"schema":{"default":"createdAt","type":"string","enum":["createdAt","type","authorId"]},"in":"query","name":"orderBy","required":false},{"schema":{"type":"string","enum":["REGISTER","LOGIN","VERIFIED_EMAIL","CHANGE_PASSWORD","UPDATE_PROFILE","DELETE_USER","STARTED_CHAT","ASKED_TO_CHAT","CHAT_ERROR","CREATED_FEEDBACK","VISITED_PAGE","BUTTON_CLICKED","REQUESTED_VERIFY_COMPANY_EMAIL","VERIFIED_COMPANY_EMAIL","ATRIBUTE_COMPANY_SEAT","EMPTY_COMPANY_SEAT","INVITED_COMPANY_USER","CREATED_COMPANY_USER_FROM_INVITE","CREATED_PLAN_CHECKOUT","CREATE_PLAN_CHECKOUT_FAILED","CREATED_LICENSE_CHECKOUT","CREATE_LICENSE_CHECKOUT_FAILED","UPDATED_PLAN_WEBHOOK","UPDATED_PLAN_WEBHOOK_FAILED","UPDATED_LICENSE_WEBHOOK","UPDATED_LICENSE_WEBHOOK_FAILED","PLAN_CANCELED_WEBHOOK","PLAN_CANCELED_WEBHOOK_FAILED","LICENSE_CANCELED_WEBHOOK","LICENSE_CANCELED_WEBHOOK_FAILED","CREATED_LICENSE","CREATE_LICENSE_FAILED","UPDATED_LICENSE_STRIPE","UPDATE_LICENSE_STRIPE_FAILED","CREATED_PLAN","CREATE_PLAN_FAILED","UPDATED_PLAN","UPDATE_PLAN_FAILED","DELETED_PLAN","DELETE_PLAN_FAILED","RESETED_USER_TRIAL","RESET_USER_TRIAL_FAILED","CREATED_BILLING_PORTAL","CREATE_BILLING_PORTAL_FAILED","TRIAL_STARTED","TRIAL_START_FAILED"]},"in":"query","name":"type","required":false},{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"userId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/logs/admin/user/{userId}":{"get":{"parameters":[{"schema":{"default":1,"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"in":"query","name":"page","required":false},{"schema":{"default":10,"type":"integer","minimum":5,"maximum":9007199254740991},"in":"query","name":"page_items","required":false},{"schema":{"type":"string"},"in":"query","name":"search","required":false},{"schema":{"default":"desc","type":"string","enum":["asc","desc"]},"in":"query","name":"sort","required":false},{"schema":{"default":"createdAt","type":"string","enum":["createdAt","type","authorId"]},"in":"query","name":"orderBy","required":false},{"schema":{"type":"string","enum":["REGISTER","LOGIN","VERIFIED_EMAIL","CHANGE_PASSWORD","UPDATE_PROFILE","DELETE_USER","STARTED_CHAT","ASKED_TO_CHAT","CHAT_ERROR","CREATED_FEEDBACK","VISITED_PAGE","BUTTON_CLICKED","REQUESTED_VERIFY_COMPANY_EMAIL","VERIFIED_COMPANY_EMAIL","ATRIBUTE_COMPANY_SEAT","EMPTY_COMPANY_SEAT","INVITED_COMPANY_USER","CREATED_COMPANY_USER_FROM_INVITE","CREATED_PLAN_CHECKOUT","CREATE_PLAN_CHECKOUT_FAILED","CREATED_LICENSE_CHECKOUT","CREATE_LICENSE_CHECKOUT_FAILED","UPDATED_PLAN_WEBHOOK","UPDATED_PLAN_WEBHOOK_FAILED","UPDATED_LICENSE_WEBHOOK","UPDATED_LICENSE_WEBHOOK_FAILED","PLAN_CANCELED_WEBHOOK","PLAN_CANCELED_WEBHOOK_FAILED","LICENSE_CANCELED_WEBHOOK","LICENSE_CANCELED_WEBHOOK_FAILED","CREATED_LICENSE","CREATE_LICENSE_FAILED","UPDATED_LICENSE_STRIPE","UPDATE_LICENSE_STRIPE_FAILED","CREATED_PLAN","CREATE_PLAN_FAILED","UPDATED_PLAN","UPDATE_PLAN_FAILED","DELETED_PLAN","DELETE_PLAN_FAILED","RESETED_USER_TRIAL","RESET_USER_TRIAL_FAILED","CREATED_BILLING_PORTAL","CREATE_BILLING_PORTAL_FAILED","TRIAL_STARTED","TRIAL_START_FAILED"]},"in":"query","name":"type","required":false},{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"userId","required":true}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"page":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"page_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"total_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"logs":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string","enum":["REGISTER","LOGIN","VERIFIED_EMAIL","CHANGE_PASSWORD","UPDATE_PROFILE","DELETE_USER","STARTED_CHAT","ASKED_TO_CHAT","CHAT_ERROR","CREATED_FEEDBACK","VISITED_PAGE","BUTTON_CLICKED","REQUESTED_VERIFY_COMPANY_EMAIL","VERIFIED_COMPANY_EMAIL","ATRIBUTE_COMPANY_SEAT","EMPTY_COMPANY_SEAT","INVITED_COMPANY_USER","CREATED_COMPANY_USER_FROM_INVITE","CREATED_PLAN_CHECKOUT","CREATE_PLAN_CHECKOUT_FAILED","CREATED_LICENSE_CHECKOUT","CREATE_LICENSE_CHECKOUT_FAILED","UPDATED_PLAN_WEBHOOK","UPDATED_PLAN_WEBHOOK_FAILED","UPDATED_LICENSE_WEBHOOK","UPDATED_LICENSE_WEBHOOK_FAILED","PLAN_CANCELED_WEBHOOK","PLAN_CANCELED_WEBHOOK_FAILED","LICENSE_CANCELED_WEBHOOK","LICENSE_CANCELED_WEBHOOK_FAILED","CREATED_LICENSE","CREATE_LICENSE_FAILED","UPDATED_LICENSE_STRIPE","UPDATE_LICENSE_STRIPE_FAILED","CREATED_PLAN","CREATE_PLAN_FAILED","UPDATED_PLAN","UPDATE_PLAN_FAILED","DELETED_PLAN","DELETE_PLAN_FAILED","RESETED_USER_TRIAL","RESET_USER_TRIAL_FAILED","CREATED_BILLING_PORTAL","CREATE_BILLING_PORTAL_FAILED","TRIAL_STARTED","TRIAL_START_FAILED"]},"createdAt":{"type":"string","format":"date-time"},"authorId":{"nullable":true,"type":"string"},"entities_ids":{"type":"array","items":{"type":"string"}},"details":{},"system":{"type":"string"},"author":{"nullable":true,"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"}},"required":["name","email"],"additionalProperties":false}},"required":["id","type","createdAt","authorId","entities_ids","details","system","author"],"additionalProperties":false}}},"required":["page","page_items","total_items","logs"],"additionalProperties":false}}}}}}},"/api/logs/admin/listLogs":{"get":{"parameters":[{"schema":{"default":1,"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"in":"query","name":"page","required":false},{"schema":{"default":10,"type":"integer","minimum":5,"maximum":9007199254740991},"in":"query","name":"page_items","required":false},{"schema":{"type":"string"},"in":"query","name":"search","required":false},{"schema":{"default":"desc","type":"string","enum":["asc","desc"]},"in":"query","name":"sort","required":false},{"schema":{"default":"createdAt","type":"string","enum":["createdAt","type","authorId"]},"in":"query","name":"orderBy","required":false},{"schema":{"type":"string","enum":["REGISTER","LOGIN","VERIFIED_EMAIL","CHANGE_PASSWORD","UPDATE_PROFILE","DELETE_USER","STARTED_CHAT","ASKED_TO_CHAT","CHAT_ERROR","CREATED_FEEDBACK","VISITED_PAGE","BUTTON_CLICKED","REQUESTED_VERIFY_COMPANY_EMAIL","VERIFIED_COMPANY_EMAIL","ATRIBUTE_COMPANY_SEAT","EMPTY_COMPANY_SEAT","INVITED_COMPANY_USER","CREATED_COMPANY_USER_FROM_INVITE","CREATED_PLAN_CHECKOUT","CREATE_PLAN_CHECKOUT_FAILED","CREATED_LICENSE_CHECKOUT","CREATE_LICENSE_CHECKOUT_FAILED","UPDATED_PLAN_WEBHOOK","UPDATED_PLAN_WEBHOOK_FAILED","UPDATED_LICENSE_WEBHOOK","UPDATED_LICENSE_WEBHOOK_FAILED","PLAN_CANCELED_WEBHOOK","PLAN_CANCELED_WEBHOOK_FAILED","LICENSE_CANCELED_WEBHOOK","LICENSE_CANCELED_WEBHOOK_FAILED","CREATED_LICENSE","CREATE_LICENSE_FAILED","UPDATED_LICENSE_STRIPE","UPDATE_LICENSE_STRIPE_FAILED","CREATED_PLAN","CREATE_PLAN_FAILED","UPDATED_PLAN","UPDATE_PLAN_FAILED","DELETED_PLAN","DELETE_PLAN_FAILED","RESETED_USER_TRIAL","RESET_USER_TRIAL_FAILED","CREATED_BILLING_PORTAL","CREATE_BILLING_PORTAL_FAILED","TRIAL_STARTED","TRIAL_START_FAILED"]},"in":"query","name":"type","required":false}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"page":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"page_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"total_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"logs":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string","enum":["REGISTER","LOGIN","VERIFIED_EMAIL","CHANGE_PASSWORD","UPDATE_PROFILE","DELETE_USER","STARTED_CHAT","ASKED_TO_CHAT","CHAT_ERROR","CREATED_FEEDBACK","VISITED_PAGE","BUTTON_CLICKED","REQUESTED_VERIFY_COMPANY_EMAIL","VERIFIED_COMPANY_EMAIL","ATRIBUTE_COMPANY_SEAT","EMPTY_COMPANY_SEAT","INVITED_COMPANY_USER","CREATED_COMPANY_USER_FROM_INVITE","CREATED_PLAN_CHECKOUT","CREATE_PLAN_CHECKOUT_FAILED","CREATED_LICENSE_CHECKOUT","CREATE_LICENSE_CHECKOUT_FAILED","UPDATED_PLAN_WEBHOOK","UPDATED_PLAN_WEBHOOK_FAILED","UPDATED_LICENSE_WEBHOOK","UPDATED_LICENSE_WEBHOOK_FAILED","PLAN_CANCELED_WEBHOOK","PLAN_CANCELED_WEBHOOK_FAILED","LICENSE_CANCELED_WEBHOOK","LICENSE_CANCELED_WEBHOOK_FAILED","CREATED_LICENSE","CREATE_LICENSE_FAILED","UPDATED_LICENSE_STRIPE","UPDATE_LICENSE_STRIPE_FAILED","CREATED_PLAN","CREATE_PLAN_FAILED","UPDATED_PLAN","UPDATE_PLAN_FAILED","DELETED_PLAN","DELETE_PLAN_FAILED","RESETED_USER_TRIAL","RESET_USER_TRIAL_FAILED","CREATED_BILLING_PORTAL","CREATE_BILLING_PORTAL_FAILED","TRIAL_STARTED","TRIAL_START_FAILED"]},"createdAt":{"type":"string","format":"date-time"},"authorId":{"nullable":true,"type":"string"},"entities_ids":{"type":"array","items":{"type":"string"}},"details":{},"system":{"type":"string"},"author":{"nullable":true,"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"}},"required":["name","email"],"additionalProperties":false}},"required":["id","type","createdAt","authorId","entities_ids","details","system","author"],"additionalProperties":false}}},"required":["page","page_items","total_items","logs"],"additionalProperties":false}}}}}}},"/api/chat/ask":{"post":{"summary":"Iniciar nova conversa","tags":["Chat"],"description":"Envia uma pergunta inicial para abrir um novo chat.\nVerifica se o usuário possui e-mail validado e um plano ativo compatível.","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"question":{"type":"string","minLength":10},"isDetailed":{"default":false,"type":"boolean"}},"required":["question"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"chat":{"type":"object","properties":{"id":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"title":{"type":"string"}},"required":["id"],"additionalProperties":false},"answer":{"type":"string"},"messageId":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"}},"required":["chat","answer","messageId"],"additionalProperties":false}}}}}}},"/api/chat/ask/{chatId}":{"post":{"summary":"Enviar mensagem em chat existente","tags":["Chat"],"description":"Envia uma pergunta para um chat já aberto, mantendo o contexto da conversa.\nRequer o ID do chat nos parâmetros.","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"question":{"type":"string","minLength":10},"isDetailed":{"default":false,"type":"boolean"}},"required":["question"]}}},"required":true},"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"chatId","required":true}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"messageId":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"}},"required":["message","messageId"],"additionalProperties":false}}}}}}},"/api/chat/chats":{"get":{"summary":"Listar conversas","tags":["Chat"],"description":"Retorna uma lista com todos os chats iniciados pelo usuário logado.","responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"title":{"type":"string"},"segment":{"type":"string","enum":["AUTOMOVEL","RESIDENCIAL"]}},"required":["id","segment"],"additionalProperties":false}}}}}}}},"/api/chat/loadMessages/{chatId}":{"get":{"summary":"Carregar histórico de mensagens","tags":["Chat"],"description":"Busca as mensagens de um chat específico, suportando paginação.","parameters":[{"schema":{"default":1,"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"in":"query","name":"page","required":false},{"schema":{"default":10,"type":"integer","minimum":5,"maximum":9007199254740991},"in":"query","name":"page_items","required":false},{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"chatId","required":true}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"page":{"default":1,"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"page_items":{"default":10,"type":"integer","minimum":5,"maximum":9007199254740991},"total_items":{"type":"number"},"messages":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"chatId":{"type":"string"},"content":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"type":{"type":"string","enum":["USER","AI"]},"reactions":{"nullable":true,"type":"object","properties":{"reaction":{"type":"string","enum":["LIKE","DISLIKE"]}},"required":["reaction"],"additionalProperties":false}},"required":["id","chatId","content","createdAt","type","reactions"],"additionalProperties":false}}},"required":["page","page_items","total_items","messages"],"additionalProperties":false}}}}}}},"/api/chat/messages/{messageId}/react":{"post":{"summary":"Reagir a uma mensagem","tags":["Chat"],"description":"Adiciona uma reação e um comentário a uma mensagem específica.\nÚtil para fornecer feedback sobre a resposta da IA.","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"comment":{"type":"string"},"reaction":{"type":"string","enum":["LIKE","DISLIKE"]}},"required":["comment","reaction"]}}},"required":true},"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"messageId","required":true}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"messageId":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"comment":{"type":"string"},"reaction":{"type":"string","enum":["LIKE","DISLIKE"]},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["id","messageId","comment","reaction","createdAt","updatedAt"],"additionalProperties":false}}}}}},"delete":{"summary":"Remover reação","tags":["Chat"],"description":"Remove a reação e o comentário previamente atribuídos a uma mensagem.","parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"messageId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/chat/messages/{messageId}/summary":{"get":{"summary":"Obter resumo da mensagem","tags":["Chat"],"description":"Gera um resumo do conteúdo de uma mensagem específica.","parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"messageId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/chat/validate-phone/{phone}":{"get":{"summary":"Validar número de telefone","tags":["Chat"],"description":"Verifica se o número de telefone pertence a um usuário cadastrado e se ele possui acesso ativo ao sistema.","parameters":[{"schema":{"type":"string","pattern":"^[0-9]{11}$"},"in":"path","name":"phone","required":true}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"anyOf":[{"type":"object","properties":{"isValidNumber":{"type":"boolean","enum":[true]},"WorkingInsurers":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"insurer_segment":{"type":"string","enum":["AUTOMOVEL"]},"insurers":{"type":"array","items":{"type":"string"}}},"required":["insurer_segment","insurers"],"additionalProperties":false},{"type":"object","properties":{"insurer_segment":{"type":"string","enum":["RESIDENCIAL"]},"insurers":{"type":"array","items":{"type":"string"}}},"required":["insurer_segment","insurers"],"additionalProperties":false}]}},"segments":{"type":"array","items":{"type":"string","enum":["AUTOMOVEL","RESIDENCIAL"]}}},"required":["isValidNumber","WorkingInsurers","segments"],"additionalProperties":false},{"type":"object","properties":{"isValidNumber":{"type":"boolean","enum":[false]},"reason":{"type":"string","minLength":1}},"required":["isValidNumber"],"additionalProperties":false}]}}}}}}},"/api/feedbacks/":{"post":{"tags":["Feedbacks"],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"message":{"type":"object","properties":{"value":{"type":"string","minLength":10}},"required":["value"]},"categories":{"default":["Outros"],"minItems":1,"maxItems":5,"type":"array","items":{"type":"string"}},"images":{"anyOf":[{"type":"array","items":{}}]}},"required":["message"]}}},"required":true},"responses":{"201":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$","description":"ID do feedback criado"},"images":{"description":"Imagens enviadas","type":"array","items":{"type":"object","properties":{"fileName":{"type":"string"},"url":{"type":"string"},"originalName":{"type":"string"},"size":{"type":"number"},"mimeType":{"type":"string"}},"required":["fileName","url","originalName","size","mimeType"],"additionalProperties":false}},"totalImages":{"type":"number","description":"Total de imagens enviadas"}},"required":["id","totalImages"],"additionalProperties":false}}}}}},"get":{"tags":["Feedbacks"],"parameters":[{"schema":{"default":1,"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"in":"query","name":"page","required":false},{"schema":{"default":10,"type":"integer","minimum":5,"maximum":9007199254740991},"in":"query","name":"page_items","required":false}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"page":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"page_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"total_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"feedbacks":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"message":{"type":"string"},"categories":{"type":"array","items":{"type":"string"}},"user":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"email":{"type":"string","format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"}},"required":["id","name"],"additionalProperties":false},"comments":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"content":{"type":"string"},"createdAt":{"type":"string","format":"date-time","pattern":"^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"},"author":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"}},"required":["id","name"],"additionalProperties":false}},"required":["id","content","createdAt","author"],"additionalProperties":false}},"images":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"fileName":{"type":"string"},"url":{"type":"string"}},"required":["id","fileName","url"],"additionalProperties":false}},"createdAt":{"type":"string","format":"date-time","pattern":"^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"}},"required":["id","message","user","comments","createdAt"],"additionalProperties":false}}},"required":["page","page_items","total_items","feedbacks"],"additionalProperties":false}}}}}}},"/api/feedbacks/{feedbackId}/comments":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"content":{"type":"string","minLength":1}},"required":["content"]}}},"required":true},"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"feedbackId","required":true}],"responses":{"201":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"content":{"type":"string"},"createdAt":{"type":"string","format":"date-time","pattern":"^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"},"author":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"}},"required":["id","name"],"additionalProperties":false}},"required":["id","content","createdAt","author"],"additionalProperties":false}}}}}}},"/api/nfse/create":{"post":{"tags":["NFSE"],"responses":{"200":{"description":"Default Response"}}}},"/api/nfse/cancel/{ref}":{"delete":{"tags":["NFSE"],"parameters":[{"schema":{"type":"string"},"in":"path","name":"ref","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/nfse/status/{ref}":{"get":{"tags":["NFSE"],"parameters":[{"schema":{"type":"string"},"in":"path","name":"ref","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/community/ideas/":{"post":{"tags":["Ideias"],"responses":{"200":{"description":"Default Response"}}},"get":{"tags":["Ideias"],"responses":{"200":{"description":"Default Response"}}}},"/api/community/ideas/commentsUser":{"get":{"tags":["Ideias"],"responses":{"200":{"description":"Default Response"}}}},"/api/community/ideas/{id}":{"delete":{"tags":["Ideias"],"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/community/ideas/{ideaId}":{"get":{"tags":["Ideias"],"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"ideaId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/community/ideas/{ideaId}/vote":{"post":{"tags":["Ideias"],"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"ideaId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/community/ideas/{id}/highlight":{"patch":{"tags":["Ideias"],"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/community/ideas/{id}/status":{"patch":{"tags":["Ideias"],"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/community/ideas/{ideaId}/comments":{"get":{"tags":["Comentários"],"parameters":[{"schema":{"default":1,"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"in":"query","name":"page","required":false},{"schema":{"default":10,"type":"integer","minimum":5,"maximum":9007199254740991},"in":"query","name":"page_items","required":false},{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"ideaId","required":true}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"page":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"page_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"total_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"comments":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"ideaId":{"type":"string"},"isUseful":{"type":"boolean"},"createdAt":{"type":"string","format":"date-time"},"content":{"type":"string"},"Author":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"}},"required":["id","name"],"additionalProperties":false},"reactions":{"type":"array","items":{"type":"object","properties":{"type":{"type":"string","enum":["LIKE","LOVE","SURPRISED","IDEA","CLAP"]},"userId":{"type":"string"}},"required":["type","userId"],"additionalProperties":false}},"_count":{"type":"object","properties":{"reactions":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991}},"required":["reactions"],"additionalProperties":false}},"required":["id","ideaId","isUseful","createdAt","content","Author","reactions","_count"],"additionalProperties":false}}},"required":["page","page_items","total_items","comments"],"additionalProperties":false}}}}}},"post":{"tags":["Comentários"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"content":{"type":"string","minLength":1,"maxLength":500}},"required":["content"]}}},"required":true},"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"ideaId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/community/comments":{"get":{"tags":["Comentários"],"responses":{"200":{"description":"Default Response"}}}},"/api/community/comments/{commentId}/comments":{"post":{"tags":["Comentários"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"content":{"type":"string","minLength":1,"maxLength":500}},"required":["content"]}}},"required":true},"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"commentId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/community/comments/{commentId}/react":{"post":{"tags":["Comentários"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"type":{"nullable":true,"type":"string","enum":["LIKE","LOVE","SURPRISED","IDEA","CLAP"]}},"required":["type"]}}},"required":true},"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"commentId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/community/comments/{commentId}/useful":{"patch":{"tags":["Comentários"],"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"commentId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/community/comments/{commentId}":{"delete":{"tags":["Comentários"],"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"commentId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/community/announcements":{"get":{"tags":["Anúncios"],"parameters":[{"schema":{"default":1,"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"in":"query","name":"page","required":false},{"schema":{"default":10,"type":"integer","minimum":5,"maximum":9007199254740991},"in":"query","name":"page_items","required":false}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"page":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"page_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"total_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"announcements":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"}},"required":["id","title","description"],"additionalProperties":false}}},"required":["page","page_items","total_items","announcements"],"additionalProperties":false}}}}}},"post":{"tags":["Anúncios"],"responses":{"200":{"description":"Default Response"}}}},"/api/community/inboxes":{"get":{"tags":["Inbox"],"parameters":[{"schema":{"default":1,"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"in":"query","name":"page","required":false},{"schema":{"default":10,"type":"integer","minimum":5,"maximum":9007199254740991},"in":"query","name":"page_items","required":false}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"page":{"default":1,"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"page_items":{"default":10,"type":"integer","minimum":5,"maximum":9007199254740991},"total_items":{"type":"number"},"chats":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string","enum":["PRIVATE","GROUP"]},"name":{"nullable":true,"type":"string"},"lastMessage":{"nullable":true,"type":"object","properties":{"id":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"content":{"type":"string"},"authorId":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"createdAt":{"type":"string","format":"date-time"}},"required":["id","content","authorId","createdAt"],"additionalProperties":false}},"required":["id","type","name","lastMessage"],"additionalProperties":false}}},"required":["page","page_items","total_items","chats"],"additionalProperties":false}}}}}}},"/api/community/inboxes/{id}":{"get":{"tags":["Inbox"],"parameters":[{"schema":{"default":1,"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"in":"query","name":"page","required":false},{"schema":{"default":10,"type":"integer","minimum":5,"maximum":9007199254740991},"in":"query","name":"page_items","required":false},{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"page":{"default":1,"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"page_items":{"default":10,"type":"integer","minimum":5,"maximum":9007199254740991},"total_items":{"type":"number"},"otherUserId":{"nullable":true,"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"messages":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"content":{"type":"string"},"inboxChatId":{"type":"string"},"authorId":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}},"required":["id","content","inboxChatId","authorId","createdAt"],"additionalProperties":false}}},"required":["page","page_items","total_items","otherUserId","messages"],"additionalProperties":false}}}}}}},"/api/community/inbox":{"post":{"tags":["Inbox"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"receiverId":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"content":{"type":"string","minLength":1}},"required":["receiverId","content"]}}},"required":true},"responses":{"200":{"description":"Default Response"}}}},"/api/file/upload":{"post":{"tags":["Arquivos"],"responses":{"200":{"description":"Default Response"}}}},"/api/file/automated-upload":{"post":{"tags":["Arquivos"],"responses":{"200":{"description":"Default Response"}}}},"/api/file/list":{"get":{"tags":["Arquivos"],"responses":{"200":{"description":"Default Response"}}}},"/api/file/get":{"get":{"tags":["Arquivos"],"responses":{"200":{"description":"Default Response"}}}},"/api/file/delete":{"delete":{"tags":["Arquivos"],"responses":{"200":{"description":"Default Response"}}}},"/api/billing/checkout":{"post":{"summary":"Criar página de checkout de plano","tags":["Billing"],"description":"Cria o checkout para um plano na Stripe e retorna a URL para a página.\n          \nO checkout é criado utilizando o customerId do usuário.\n          \nAtualmente, essa rota contempla apenas os planos do Condições Certas, mas poderá ser atualizada para outros serviços.","responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"url":{"type":"string"}},"required":["url"],"additionalProperties":false}}}}}}},"/api/billing/license-checkout":{"post":{"summary":"Criar página de checkout de licença","tags":["Billing"],"description":"Cria o checkout para licenças na Stripe e retorna a URL para a página.\n          \nO checkout é criado utilizando o customerId da empresa (corretora, filial, associação), e não do usuário.","responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"url":{"type":"string"}},"required":["url"],"additionalProperties":false}}}}}}},"/api/billing/createBillingPortal":{"post":{"summary":"Criar billing portal","tags":["Billing"],"description":"Cria o billing portal do usuário na Stripe, que permite que ele gerencie suas assinaturas.","responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"url":{"type":"string"}},"required":["url"],"additionalProperties":false}}}}}}},"/api/billing/listPlans":{"get":{"summary":"Listar planos ativos","tags":["Billing"],"description":"Lista os planos cadastrados e que estejam ativos.\n            \nPlanos inativos não são exibidos para o usuário final, ou nem mesmo para o admin do sistema.","responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"price":{"type":"number"},"isDefault":{"type":"boolean"},"trialPeriodInDays":{"type":"number"},"features":{"type":"array","items":{"type":"string"}},"isYearly":{"type":"boolean"}},"required":["id","name","description","price","isDefault","trialPeriodInDays","features","isYearly"],"additionalProperties":false}}}}}}}},"/api/billing/createPlan":{"post":{"summary":"Cadastrar novo plano","tags":["Billing"],"description":"Cadastra um plano no sistema.\n            \nTodos os tipos de planos devem possuir ao menos uma feature da lista de features disponível.\n            \nPlanos gratuitos devem ter no máximo 30 dias grátis, e possuir um preço padrão vinculado.\n            \nPlanos pagos podem ser de cobrança mensal ou anual. O valor do plano com cobrança anual deve ser referente ao valor total (Ex.: 1078.80)","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":4},"description":{"type":"string","minLength":4},"price":{"type":"number","minimum":0,"exclusiveMinimum":true},"trialPeriodInDays":{"type":"number","minimum":0,"maximum":30},"isDefault":{"type":"boolean"},"features":{"minItems":1,"type":"array","items":{"type":"string","enum":["CHAT","RESUME","ANALYSIS","COMMUNITY"]}},"recurringType":{"type":"string","enum":["MONTHLY","YEARLY"]}},"required":["name","description","price","trialPeriodInDays","isDefault","features","recurringType"]}}},"required":true},"responses":{"200":{"description":"Default Response"}}}},"/api/billing/deletePlan/{id}":{"delete":{"summary":"Desativar um plano","tags":["Billing"],"description":"Desativa um plano do sistema. O registro não é deletado, apenas o status é alterado para inativo.\n          \nÉ necessário que não tenha um usuário vinculado ao plano a ser desativado.","parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/billing/updatePlan":{"patch":{"summary":"Atualizar um plano","tags":["Billing"],"description":"Atualiza um plano do sistema.\n          \nO campo de preço é opcional, pois a atualização do valor gera chamadas à API da Stripe, o que nem sempre é necessário.","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"planId":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"name":{"type":"string","minLength":4},"description":{"type":"string","minLength":4},"price":{"type":"number"},"trialPeriodInDays":{"type":"number","minimum":0,"maximum":30},"isDefault":{"type":"boolean"},"features":{"minItems":1,"type":"array","items":{"type":"string","enum":["CHAT","RESUME","ANALYSIS","COMMUNITY"]}}},"required":["planId","name","description","trialPeriodInDays","isDefault","features"]}}},"required":true},"responses":{"200":{"description":"Default Response"}}}},"/api/billing/myPlan":{"get":{"summary":"Obter plano atual","tags":["Billing"],"description":"Retorna o plano vinculado ao usuário, ou um erro caso não exista.","responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"price":{"type":"number"},"isDefault":{"type":"boolean"},"trialPeriodInDays":{"type":"number"},"features":{"type":"array","items":{"type":"string"}},"isYearly":{"type":"boolean"},"ccPlanPurchases":{"type":"array","items":{"type":"object","properties":{"segments":{"type":"array","items":{"type":"string","enum":["AUTOMOVEL","RESIDENCIAL"]}}},"required":["segments"],"additionalProperties":false}}},"required":["id","name","description","price","isDefault","trialPeriodInDays","features","isYearly","ccPlanPurchases"],"additionalProperties":false}}}}}}},"/api/billing/trial":{"post":{"summary":"Iniciar teste gratuito","tags":["User","Billing"],"description":"Inicia o teste gratuito do usuário.\n          \nRetorna erro caso o usuário já tenha interagido com algum outro plano.","responses":{"200":{"description":"Default Response"}}}},"/api/billing/admin/reset-user-trial/{userId}":{"patch":{"summary":"Reiniciar teste gratuito","tags":["Billing"],"description":"Permite que um admin resete o teste gratuito de um usuário.\n          \nÉ restrito a usuários que tenham o teste gratuito expirado.","parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"userId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/billing/listLicenses":{"get":{"summary":"Listar licenças","tags":["Billing"],"description":"Lista as licenças cadastradas no sistema.\n            \nPor padrão, devemos sempre ter exatamente uma licença.","responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"price":{"type":"number"}},"required":["id","name","price"],"additionalProperties":false}}}}}}}},"/api/billing/createLicense":{"post":{"summary":"Cadastrar nova licença","tags":["Billing"],"description":"Cadastra uma nova licença no sistema.\n          \nAtualmente, o valor padrão é de R$ 99,90. O registro é vinculado à Stripe.","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":4},"price":{"type":"number","minimum":0,"exclusiveMinimum":true}},"required":["name","price"]}}},"required":true},"responses":{"200":{"description":"Default Response"}}}},"/api/billing/myPurchases":{"get":{"summary":"Listar compras de planos","tags":["Billing"],"description":"Lista as compras de planos que o usuário realizou.","responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"createdAt":{"type":"string","format":"date-time"},"plan":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"price":{"type":"number"},"isDefault":{"type":"boolean"},"trialPeriodInDays":{"type":"number"},"features":{"type":"array","items":{"type":"string"}},"isYearly":{"type":"boolean"}},"required":["id","name","description","price","isDefault","trialPeriodInDays","features","isYearly"],"additionalProperties":false},"subscriptionStatus":{"type":"string","enum":["ACTIVE","INCOMPLETE","INCOMPLETE_EXPIRED","TRIALING","PAST_DUE","CANCELED","UNPAID","PAUSED","NOT_SUBSCRIBED","TRIAL_EXPIRED"]},"segments":{"type":"array","items":{"type":"string","enum":["AUTOMOVEL","RESIDENCIAL"]}}},"required":["id","createdAt","plan","subscriptionStatus","segments"],"additionalProperties":false}}}}}}}},"/api/billing/addSegments":{"patch":{"summary":"Modificar segmentos de um plano","tags":["Billing"],"description":"Altera os segmentos do plano ativo do usuário.\n          \nA assinatura do usuário é atualizada na Stripe.\n          \nO valor cobrado na assinatura é referente à quantidade de segmentos ativos no plano atual.","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"segments":{"type":"array","items":{"type":"string","enum":["AUTOMOVEL","RESIDENCIAL"]}}},"required":["segments"]}}},"required":true},"responses":{}}},"/api/billing/licensePurchases":{"get":{"summary":"Listar compras de licenças","tags":["Billing"],"description":"Lista as compras de licenças da empresa.","responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"isYearly":{"type":"boolean"},"quantity":{"type":"number"},"createdAt":{"type":"string","format":"date-time"},"subscriptionStatus":{"type":"string","enum":["ACTIVE","INCOMPLETE","INCOMPLETE_EXPIRED","TRIALING","PAST_DUE","CANCELED","UNPAID","PAUSED","NOT_SUBSCRIBED","TRIAL_EXPIRED"]}},"required":["id","isYearly","quantity","createdAt","subscriptionStatus"],"additionalProperties":false}}}}}}}},"/api/billing/webhook/":{"post":{"summary":"Webhook Stripe","tags":["Billing"],"description":"Webhook principal da Stripe.\n          \nTodos os eventos mapeados no dashboard da Stripe são enviados para essa rota.\n          \nAtualmente, tratamos pagamentos de checkout e atualizações em subscription de usuários.\n          \nAlém disso, os eventos atuais estão relacionados apenas a planos e licenças.","responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"received":{"type":"boolean"}},"required":["received"],"additionalProperties":false}}}}}}},"/api/interests/createInterest":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"brokerageName":{"type":"string","minLength":3},"cnpj":{"type":"string","pattern":"^[\\d]{2}.[\\d]{3}.[\\d]{3}\\/[\\d]{4}-[\\d]{2}$"},"email":{"type":"string","minLength":1,"format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"},"phoneNumber":{"type":"string","minLength":10},"estimatedMonthlyInvoices":{"type":"integer","exclusiveMinimum":true,"maximum":9007199254740991}},"required":["brokerageName","cnpj","email","phoneNumber","estimatedMonthlyInvoices"]}}},"required":true},"responses":{}}},"/api/interests/counter":{"get":{"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"count":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991}},"required":["count"],"additionalProperties":false}}}}}}},"/api/interests/":{"get":{"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"cnpj":{"type":"string"},"email":{"type":"string","minLength":1,"format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"},"brokerageName":{"type":"string"},"phoneNumber":{"type":"string"},"estimatedMonthlyInvoices":{"type":"number"},"createdAt":{"type":"string","format":"date-time"}},"required":["id","cnpj","email","brokerageName","phoneNumber","estimatedMonthlyInvoices","createdAt"],"additionalProperties":false}}}}}}}},"/api/broker/broker":{"post":{"tags":["Corretoras"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1},"cnpj":{"type":"string","pattern":"^[\\d]{2}.[\\d]{3}.[\\d]{3}\\/[\\d]{4}-[\\d]{2}$"}},"required":["name","cnpj"]}}},"required":true},"responses":{"200":{"description":"Default Response"}}},"get":{"tags":["Corretoras"],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"name":{"type":"string"},"cnpj":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"email":{"nullable":true,"type":"string"},"owners":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"},"id":{"type":"string"}},"required":["name","email","id"],"additionalProperties":false}}},"required":["id","name","cnpj","createdAt","email","owners"],"additionalProperties":false}}}}}}}},"/api/broker/broker/{brokerId}/atribute-owner":{"post":{"tags":["Corretoras"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","minLength":1,"format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"}},"required":["email"]}}},"required":true},"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"brokerId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/broker/broker/{brokerId}/users":{"get":{"parameters":[{"schema":{"default":1,"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"in":"query","name":"page","required":false},{"schema":{"default":10,"type":"integer","minimum":5,"maximum":9007199254740991},"in":"query","name":"page_items","required":false},{"schema":{"type":"string"},"in":"query","name":"search","required":false},{"schema":{"default":"asc","type":"string","enum":["asc","desc"]},"in":"query","name":"sort","required":false},{"schema":{"default":"createdAt","type":"string","enum":["name","email","createdAt"]},"in":"query","name":"orderBy","required":false},{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"brokerId","required":true}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"page":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"page_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"total_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"users":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"phone":{"nullable":true,"type":"string"},"email":{"type":"string"},"companyRole":{"type":"string","enum":["OWNER","ADMIN","USER"]},"CC_Service_Seat":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"segment":{"nullable":true,"type":"string","enum":["AUTOMOVEL","RESIDENCIAL"]}},"required":["id","segment"],"additionalProperties":false}},"createdAt":{"anyOf":[{"type":"string","format":"date-time","pattern":"^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"}]}},"required":["id","name","phone","email","companyRole","createdAt"],"additionalProperties":false}}},"required":["page","page_items","total_items","users"],"additionalProperties":false}}}}}}},"/api/broker/brokers/{brokerId}/users":{"get":{"tags":["Corretoras","Usuários"],"parameters":[{"schema":{"default":1,"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"in":"query","name":"page","required":false},{"schema":{"default":10,"type":"integer","minimum":5,"maximum":9007199254740991},"in":"query","name":"page_items","required":false},{"schema":{"type":"string"},"in":"query","name":"search","required":false},{"schema":{"default":"asc","type":"string","enum":["asc","desc"]},"in":"query","name":"sort","required":false},{"schema":{"default":"createdAt","type":"string","enum":["name","email","createdAt"]},"in":"query","name":"orderBy","required":false},{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"brokerId","required":true}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"page":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"page_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"total_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"users":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"phone":{"nullable":true,"type":"string"},"email":{"type":"string"},"companyRole":{"type":"string","enum":["OWNER","ADMIN","USER"]},"CC_Service_Seat":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"segment":{"nullable":true,"type":"string","enum":["AUTOMOVEL","RESIDENCIAL"]}},"required":["id","segment"],"additionalProperties":false}},"createdAt":{"anyOf":[{"type":"string","format":"date-time","pattern":"^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"}]}},"required":["id","name","phone","email","companyRole","createdAt"],"additionalProperties":false}}},"required":["page","page_items","total_items","users"],"additionalProperties":false}}}}}}},"/api/broker/brokers/{brokerId}/users/{userId}/role":{"patch":{"tags":["Corretoras","Usuários"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"newRole":{"type":"string","enum":["OWNER","ADMIN","USER"]}},"required":["newRole"]}}},"required":true},"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"brokerId","required":true},{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"userId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/broker/brokers/{brokerId}":{"get":{"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"brokerId","required":true}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"name":{"type":"string"},"cnpj":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"email":{"nullable":true,"type":"string"},"owners":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"},"id":{"type":"string"}},"required":["name","email","id"],"additionalProperties":false}}},"required":["id","name","cnpj","createdAt","email","owners"],"additionalProperties":false}}}}}}},"/api/broker/brokers/{companyId}/request-email-verification":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","minLength":1,"format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"}},"required":["email"]}}},"required":true},"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"companyId","required":true}],"responses":{"201":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false}}}}}}},"/api/broker/brokers/verify-email":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"string","minLength":6,"maxLength":6}},"required":["code"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false}}}}}}},"/api/broker/admin/users/{userId}/atribute-seat":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"segment":{"type":"string","enum":["AUTOMOVEL","RESIDENCIAL"]}},"required":["segment"]}}},"required":true},"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"userId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/broker/seats/{seatId}/empty":{"patch":{"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"seatId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/broker/admin/users/invite":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","minLength":1,"format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"},"name":{"type":"string","minLength":1},"seats":{"default":[],"type":"array","items":{"type":"string","enum":["AUTOMOVEL","RESIDENCIAL"]}}},"required":["email","name"]}}},"required":true},"responses":{"200":{"description":"Default Response"}}}},"/api/branches/branch":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1},"cnpj":{"type":"string","pattern":"^[\\d]{2}.[\\d]{3}.[\\d]{3}\\/[\\d]{4}-[\\d]{2}$"}},"required":["name","cnpj"]}}},"required":true},"responses":{"200":{"description":"Default Response"}}}},"/api/branches/branch/{brokerBranchId}/atribute-owner":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","minLength":1,"format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"}},"required":["email"]}}},"required":true},"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"brokerBranchId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/branches/branches/{brokerBranchId}/users":{"get":{"parameters":[{"schema":{"default":1,"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"in":"query","name":"page","required":false},{"schema":{"default":10,"type":"integer","minimum":5,"maximum":9007199254740991},"in":"query","name":"page_items","required":false},{"schema":{"type":"string"},"in":"query","name":"search","required":false},{"schema":{"default":"asc","type":"string","enum":["asc","desc"]},"in":"query","name":"sort","required":false},{"schema":{"default":"createdAt","type":"string","enum":["name","email","createdAt"]},"in":"query","name":"orderBy","required":false},{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"brokerBranchId","required":true}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"page":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"page_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"total_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"users":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"phone":{"nullable":true,"type":"string"},"email":{"type":"string"},"companyRole":{"type":"string","enum":["OWNER","ADMIN","USER"]},"CC_Service_Seat":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"segment":{"nullable":true,"type":"string","enum":["AUTOMOVEL","RESIDENCIAL"]}},"required":["id","segment"],"additionalProperties":false}},"createdAt":{"anyOf":[{"type":"string","format":"date-time","pattern":"^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"}]}},"required":["id","name","phone","email","companyRole","createdAt"],"additionalProperties":false}}},"required":["page","page_items","total_items","users"],"additionalProperties":false}}}}}}},"/api/branches/branches/{companyId}/request-email-verification":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","minLength":1,"format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"}},"required":["email"]}}},"required":true},"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"companyId","required":true}],"responses":{"201":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false}}}}}}},"/api/branches/branches/verify-email":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"string","minLength":6,"maxLength":6}},"required":["code"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false}}}}}}},"/api/branches/admin/users/{userId}/atribute-seat":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"segment":{"type":"string","enum":["AUTOMOVEL","RESIDENCIAL"]}},"required":["segment"]}}},"required":true},"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"userId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/branches/seats/{seatId}/empty":{"patch":{"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"seatId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/branches/admin/users/invite":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","minLength":1,"format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"},"name":{"type":"string","minLength":1},"seats":{"default":[],"type":"array","items":{"type":"string","enum":["AUTOMOVEL","RESIDENCIAL"]}}},"required":["email","name"]}}},"required":true},"responses":{"200":{"description":"Default Response"}}}},"/api/broker-association/broker-association":{"post":{"tags":["Associação de corretoras"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1},"cnpj":{"type":"string","pattern":"^[\\d]{2}.[\\d]{3}.[\\d]{3}\\/[\\d]{4}-[\\d]{2}$"}},"required":["name","cnpj"]}}},"required":true},"responses":{"200":{"description":"Default Response"}}},"get":{"tags":["Associação de corretoras"],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"name":{"type":"string"},"cnpj":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"email":{"nullable":true,"type":"string"},"owners":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"},"id":{"type":"string"}},"required":["name","email","id"],"additionalProperties":false}}},"required":["id","name","cnpj","createdAt","email","owners"],"additionalProperties":false}}}}}}}},"/api/broker-association/broker-association/{brokerAssociationId}/atribute-owner":{"post":{"tags":["Associação de corretoras"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","minLength":1,"format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"}},"required":["email"]}}},"required":true},"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"brokerAssociationId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/broker-association/broker-associations/{brokerAssociationId}/users":{"get":{"parameters":[{"schema":{"default":1,"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"in":"query","name":"page","required":false},{"schema":{"default":10,"type":"integer","minimum":5,"maximum":9007199254740991},"in":"query","name":"page_items","required":false},{"schema":{"type":"string"},"in":"query","name":"search","required":false},{"schema":{"default":"asc","type":"string","enum":["asc","desc"]},"in":"query","name":"sort","required":false},{"schema":{"default":"createdAt","type":"string","enum":["name","email","createdAt"]},"in":"query","name":"orderBy","required":false},{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"brokerAssociationId","required":true}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"page":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"page_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"total_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"users":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"phone":{"nullable":true,"type":"string"},"email":{"type":"string"},"companyRole":{"type":"string","enum":["OWNER","ADMIN","USER"]},"CC_Service_Seat":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"segment":{"nullable":true,"type":"string","enum":["AUTOMOVEL","RESIDENCIAL"]}},"required":["id","segment"],"additionalProperties":false}},"createdAt":{"anyOf":[{"type":"string","format":"date-time","pattern":"^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"}]}},"required":["id","name","phone","email","companyRole","createdAt"],"additionalProperties":false}}},"required":["page","page_items","total_items","users"],"additionalProperties":false}}}}}}},"/api/broker-association/broker-associations/{brokerAssociationId}/users/{userId}/role":{"patch":{"tags":["Corretoras","Usuários"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"newRole":{"type":"string","enum":["OWNER","ADMIN","USER"]}},"required":["newRole"]}}},"required":true},"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"brokerAssociationId","required":true},{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"userId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/broker-association/broker-associations/{brokerAssociationId}":{"get":{"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"brokerAssociationId","required":true}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"name":{"type":"string"},"cnpj":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"email":{"nullable":true,"type":"string"},"owners":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"},"id":{"type":"string"}},"required":["name","email","id"],"additionalProperties":false}}},"required":["id","name","cnpj","createdAt","email","owners"],"additionalProperties":false}}}}}}},"/api/broker-association/broker-associations/{companyId}/request-email-verification":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","minLength":1,"format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"}},"required":["email"]}}},"required":true},"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"companyId","required":true}],"responses":{"201":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false}}}}}}},"/api/broker-association/broker-associations/verify-email":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"string","minLength":6,"maxLength":6}},"required":["code"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false}}}}}}},"/api/broker-association/admin/users/{userId}/atribute-seat":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"segment":{"type":"string","enum":["AUTOMOVEL","RESIDENCIAL"]}},"required":["segment"]}}},"required":true},"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"userId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/broker-association/seats/{seatId}/empty":{"patch":{"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"in":"path","name":"seatId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/broker-association/admin/users/invite":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","minLength":1,"format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"},"name":{"type":"string","minLength":1},"seats":{"default":[],"type":"array","items":{"type":"string","enum":["AUTOMOVEL","RESIDENCIAL"]}}},"required":["email","name"]}}},"required":true},"responses":{"200":{"description":"Default Response"}}}},"/api/follow-up/onboarding":{"get":{"tags":["Follow up"],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"brokerName":{"type":"string","minLength":3},"aiPresentation":{"type":"string","minLength":3},"tone":{"type":"string","enum":["FORMAL","ACOLHEDOR","TECNICO","HUMOR","INSPIRADOR","DIRETO"]},"brandPhrases":{"type":"array","items":{"type":"string"}},"messageLength":{"type":"string","enum":["CURTA","MEDIA","DETALHADA"]},"forbiddenTerms":{"type":"array","items":{"type":"string"}},"whatsappNumbers":{"minItems":1,"type":"array","items":{"type":"string"}},"redirectNumber":{"nullable":true,"type":"string"},"email":{"type":"string","minLength":1,"format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"},"website":{"type":"string","format":"uri"},"insuranceTypes":{"minItems":1,"type":"array","items":{"type":"string","enum":["AUTO","VIDA","RESIDENCIAL","EMPRESARIAL","VIAGEM","SAUDE"]}},"crossSellProducts":{"nullable":true,"type":"string"},"communications":{"minItems":1,"type":"array","items":{"type":"string"}},"mainGoal":{"minItems":1,"type":"array","items":{"type":"string"}},"signatureFormat":{"type":"string","minLength":5},"userId":{"type":"string"},"id":{"type":"string"},"status":{"type":"string","enum":["DRAFT","COMPLETED"]},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["userId","id","status","createdAt","updatedAt"],"additionalProperties":false}}}}}},"post":{"tags":["Follow up"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"brokerName":{"type":"string","minLength":3},"aiPresentation":{"type":"string","minLength":3},"tone":{"type":"string","enum":["FORMAL","ACOLHEDOR","TECNICO","HUMOR","INSPIRADOR","DIRETO"]},"brandPhrases":{"type":"array","items":{"type":"string"}},"messageLength":{"type":"string","enum":["CURTA","MEDIA","DETALHADA"]},"forbiddenTerms":{"type":"array","items":{"type":"string"}},"whatsappNumbers":{"minItems":1,"type":"array","items":{"type":"string"}},"redirectNumber":{"nullable":true,"type":"string"},"email":{"type":"string","minLength":1,"format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"},"website":{"type":"string","format":"uri"},"insuranceTypes":{"minItems":1,"type":"array","items":{"type":"string","enum":["AUTO","VIDA","RESIDENCIAL","EMPRESARIAL","VIAGEM","SAUDE"]}},"crossSellProducts":{"nullable":true,"type":"string"},"communications":{"minItems":1,"type":"array","items":{"type":"string"}},"mainGoal":{"minItems":1,"type":"array","items":{"type":"string"}},"signatureFormat":{"type":"string","minLength":5},"userId":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"},"submit":{"default":false,"type":"boolean"}},"required":["userId"]}}},"required":true},"responses":{}}},"/api/follow-up/onboarding/list":{"get":{"tags":["Follow up"],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"brokerName":{"type":"string","minLength":3},"aiPresentation":{"type":"string","minLength":3},"tone":{"type":"string","enum":["FORMAL","ACOLHEDOR","TECNICO","HUMOR","INSPIRADOR","DIRETO"]},"brandPhrases":{"type":"array","items":{"type":"string"}},"messageLength":{"type":"string","enum":["CURTA","MEDIA","DETALHADA"]},"forbiddenTerms":{"type":"array","items":{"type":"string"}},"whatsappNumbers":{"minItems":1,"type":"array","items":{"type":"string"}},"redirectNumber":{"nullable":true,"type":"string"},"email":{"type":"string","minLength":1,"format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"},"website":{"type":"string","format":"uri"},"insuranceTypes":{"minItems":1,"type":"array","items":{"type":"string","enum":["AUTO","VIDA","RESIDENCIAL","EMPRESARIAL","VIAGEM","SAUDE"]}},"crossSellProducts":{"nullable":true,"type":"string"},"communications":{"minItems":1,"type":"array","items":{"type":"string"}},"mainGoal":{"minItems":1,"type":"array","items":{"type":"string"}},"signatureFormat":{"type":"string","minLength":5},"userId":{"type":"string"},"id":{"type":"string"},"status":{"type":"string","enum":["DRAFT","COMPLETED"]},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["userId","id","status","createdAt","updatedAt"],"additionalProperties":false}}}}}}}},"/api/segments/":{"get":{"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"segments":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"status":{"type":"string","enum":["ACTIVE","INACTIVE"]}},"required":["id","name","status"],"additionalProperties":false}}},"required":["segments"],"additionalProperties":false}}}}}},"post":{"responses":{"201":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"name":{"type":"string"},"status":{"type":"string","enum":["ACTIVE","INACTIVE"]}},"required":["id","name","status"],"additionalProperties":false}}}}}}},"/api/segments/active":{"get":{"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string","enum":["AUTOMOVEL","RESIDENCIAL"]},"status":{"type":"string","enum":["ACTIVE","INACTIVE"]},"SuportedInsurers":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number"},"insurerName":{"type":"string"},"status":{"type":"string","enum":["ACTIVE","INACTIVE"]},"insurerSegmentName":{"type":"string","enum":["AUTOMOVEL","RESIDENCIAL"]}},"required":["id","insurerName","status","insurerSegmentName"],"additionalProperties":false}}},"required":["id","name","status","SuportedInsurers"],"additionalProperties":false}}}}}}}},"/api/segments/{segmentName}/insurers/{insurerId}/status":{"patch":{"parameters":[{"schema":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"in":"path","name":"insurerId","required":true},{"schema":{"type":"string"},"in":"path","name":"segmentName","required":true}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"name":{"type":"string"},"status":{"type":"string","enum":["ACTIVE","INACTIVE"]}},"required":["id","name","status"],"additionalProperties":false}}}}}}},"/api/segments/{insurerId}/status":{"patch":{"parameters":[{"schema":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"in":"path","name":"insurerId","required":true}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"name":{"type":"string"},"status":{"type":"string","enum":["ACTIVE","INACTIVE"]}},"required":["id","name","status"],"additionalProperties":false}}}}}}},"/api/segments/{id}":{"put":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}},"get":{"parameters":[{"schema":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"name":{"type":"string"},"status":{"type":"string","enum":["ACTIVE","INACTIVE"]}},"required":["id","name","status"],"additionalProperties":false}}}}}},"delete":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false}}}}}}},"/api/segments/{name}/insurers":{"get":{"parameters":[{"schema":{"default":1,"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"in":"query","name":"page","required":false},{"schema":{"default":10,"type":"integer","minimum":5,"maximum":9007199254740991},"in":"query","name":"page_items","required":false},{"schema":{"type":"string"},"in":"path","name":"name","required":true}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"page":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"page_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"total_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"insurers":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"SuportedSegments":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number"},"status":{"type":"string","enum":["ACTIVE","INACTIVE"]}},"required":["id","status"],"additionalProperties":false}}},"required":["id","name","createdAt","updatedAt","SuportedSegments"],"additionalProperties":false}}},"required":["page","page_items","total_items","insurers"],"additionalProperties":false}}}}}}},"/api/admin/featureFlags":{"get":{"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"feature":{"type":"string"},"description":{"type":"string"},"status":{"type":"string","enum":["ACTIVE","INACTIVE"]},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["feature","description","status","createdAt","updatedAt"],"additionalProperties":false}}}}}}}},"/api/admin/featureFlags/{feature}/status":{"patch":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"feature","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/feature-flags/{system}":{"get":{"parameters":[{"schema":{"type":"string","enum":["CONDICOES_CERTAS","FOLLOW_UP","COMMUNITY"]},"in":"path","name":"system","required":true}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string","enum":["ACTIVE","INACTIVE"]}}}}}}}},"/api/file/comparison/":{"post":{"tags":["Comparações"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"insurer":{"type":"string"},"insurerSegment":{"type":"string","enum":["AUTOMOVEL","RESIDENCIAL"]},"oldFileVersionReleaseDate":{"type":"string"},"newFileVersionReleaseDate":{"type":"string"}},"required":["insurer","insurerSegment","oldFileVersionReleaseDate","newFileVersionReleaseDate"]}}},"required":true},"responses":{"201":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number"},"status":{"type":"string","enum":["QUEUED","PROCESSING","COMPLETED","FAILED","TIMED_OUT"]},"oldFileVersion":{"type":"object","properties":{"insurer":{"type":"string"},"insurerSegment":{"type":"string"},"releaseDate":{"type":"string","format":"date-time"}},"required":["insurer","insurerSegment","releaseDate"],"additionalProperties":false},"newFileVersion":{"type":"object","properties":{"insurer":{"type":"string"},"insurerSegment":{"type":"string"},"releaseDate":{"type":"string","format":"date-time"}},"required":["insurer","insurerSegment","releaseDate"],"additionalProperties":false},"comparisonKey":{"nullable":true,"type":"string"}},"required":["id","status","oldFileVersion","newFileVersion","comparisonKey"],"additionalProperties":false}}}}}},"get":{"tags":["Comparações"],"parameters":[{"schema":{"default":1,"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"in":"query","name":"page","required":false},{"schema":{"default":10,"type":"integer","minimum":5,"maximum":9007199254740991},"in":"query","name":"page_items","required":false},{"schema":{"type":"string"},"in":"query","name":"insurer","required":false},{"schema":{"type":"string","enum":["QUEUED","PROCESSING","COMPLETED","FAILED","TIMED_OUT"]},"in":"query","name":"status","required":false},{"schema":{"default":"desc","type":"string","enum":["asc","desc"]},"in":"query","name":"sort","required":false},{"schema":{"default":"createdAt","type":"string","enum":["createdAt","status","insurer"]},"in":"query","name":"orderBy","required":false},{"schema":{"default":false,"type":"boolean"},"in":"query","name":"working_insurers","required":false}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"page":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"page_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"total_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"comparisons":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number"},"status":{"type":"string","enum":["QUEUED","PROCESSING","COMPLETED","FAILED","TIMED_OUT"]},"oldFileVersion":{"type":"object","properties":{"insurer":{"type":"string"},"insurerSegment":{"type":"string"},"releaseDate":{"type":"string","format":"date-time"}},"required":["insurer","insurerSegment","releaseDate"],"additionalProperties":false},"newFileVersion":{"type":"object","properties":{"insurer":{"type":"string"},"insurerSegment":{"type":"string"},"releaseDate":{"type":"string","format":"date-time"}},"required":["insurer","insurerSegment","releaseDate"],"additionalProperties":false},"comparisonKey":{"nullable":true,"type":"string"}},"required":["id","status","oldFileVersion","newFileVersion","comparisonKey"],"additionalProperties":false}}},"required":["page","page_items","total_items","comparisons"],"additionalProperties":false}}}}}},"put":{"tags":["Comparações"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number"},"status":{"type":"string","enum":["QUEUED","PROCESSING","COMPLETED","FAILED","TIMED_OUT"]}},"required":["id","status"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number"},"status":{"type":"string","enum":["QUEUED","PROCESSING","COMPLETED","FAILED","TIMED_OUT"]},"oldFileVersion":{"type":"object","properties":{"insurer":{"type":"string"},"insurerSegment":{"type":"string"},"releaseDate":{"type":"string","format":"date-time"}},"required":["insurer","insurerSegment","releaseDate"],"additionalProperties":false},"newFileVersion":{"type":"object","properties":{"insurer":{"type":"string"},"insurerSegment":{"type":"string"},"releaseDate":{"type":"string","format":"date-time"}},"required":["insurer","insurerSegment","releaseDate"],"additionalProperties":false},"comparisonKey":{"nullable":true,"type":"string"}},"required":["id","status","oldFileVersion","newFileVersion","comparisonKey"],"additionalProperties":false}}}}}},"delete":{"tags":["Comparações"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number"}},"required":["id"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false}}}}}}},"/api/file/comparison/history":{"get":{"tags":["Comparações"],"parameters":[{"schema":{"default":1,"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"in":"query","name":"page","required":false},{"schema":{"default":"desc","type":"string","enum":["asc","desc"]},"in":"query","name":"sort","required":false},{"schema":{"type":"string"},"in":"query","name":"insurer","required":false},{"schema":{"default":10,"type":"integer","minimum":5,"maximum":9007199254740991},"in":"query","name":"page_items","required":false},{"schema":{"default":false,"type":"boolean"},"in":"query","name":"working_insurers","required":false},{"schema":{"type":"string","enum":["AUTOMOVEL","RESIDENCIAL"]},"in":"query","name":"insurerSegment","required":false}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"page":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"page_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"total_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"history":{"type":"array","items":{"type":"object","properties":{"insurer":{"type":"string"},"insurerSegment":{"type":"string"},"releaseDate":{"type":"string","format":"date-time"},"comparisonsAsNewFile":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number"},"status":{"type":"string","enum":["QUEUED","PROCESSING","COMPLETED","FAILED","TIMED_OUT"]},"comparisonKey":{"nullable":true,"type":"string"},"oldFileVersion":{"type":"object","properties":{"insurer":{"type":"string"},"insurerSegment":{"type":"string"},"releaseDate":{"type":"string","format":"date-time"}},"required":["insurer","insurerSegment","releaseDate"],"additionalProperties":false}},"required":["id","status","comparisonKey","oldFileVersion"],"additionalProperties":false}}},"required":["insurer","insurerSegment","releaseDate"],"additionalProperties":false}}},"required":["page","page_items","total_items","history"],"additionalProperties":false}}}}}}},"/api/file/comparison/history/insurer":{"get":{"tags":["Comparações"],"parameters":[{"schema":{"default":1,"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"in":"query","name":"page","required":false},{"schema":{"default":10,"type":"integer","minimum":5,"maximum":9007199254740991},"in":"query","name":"page_items","required":false},{"schema":{"type":"string"},"in":"query","name":"insurer","required":true},{"schema":{"type":"string","enum":["AUTOMOVEL","RESIDENCIAL"]},"in":"query","name":"insurerSegment","required":true},{"schema":{"default":"desc","type":"string","enum":["asc","desc"]},"in":"query","name":"sort","required":false}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"page":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"page_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"total_items":{"type":"integer","minimum":-9007199254740991,"maximum":9007199254740991},"history":{"type":"array","items":{"type":"object","properties":{"insurer":{"type":"string"},"insurerSegment":{"type":"string"},"releaseDate":{"type":"string","format":"date-time"},"comparisonsAsNewFile":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number"},"status":{"type":"string","enum":["QUEUED","PROCESSING","COMPLETED","FAILED","TIMED_OUT"]},"comparisonKey":{"nullable":true,"type":"string"},"oldFileVersion":{"type":"object","properties":{"insurer":{"type":"string"},"insurerSegment":{"type":"string"},"releaseDate":{"type":"string","format":"date-time"}},"required":["insurer","insurerSegment","releaseDate"],"additionalProperties":false}},"required":["id","status","comparisonKey","oldFileVersion"],"additionalProperties":false}}},"required":["insurer","insurerSegment","releaseDate"],"additionalProperties":false}}},"required":["page","page_items","total_items","history"],"additionalProperties":false}}}}}}},"/api/file/comparison/{id}":{"get":{"tags":["Comparações"],"parameters":[{"schema":{"type":"number"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number"},"status":{"type":"string","enum":["QUEUED","PROCESSING","COMPLETED","FAILED","TIMED_OUT"]},"oldFileVersion":{"type":"object","properties":{"insurer":{"type":"string"},"insurerSegment":{"type":"string"},"releaseDate":{"type":"string","format":"date-time"}},"required":["insurer","insurerSegment","releaseDate"],"additionalProperties":false},"newFileVersion":{"type":"object","properties":{"insurer":{"type":"string"},"insurerSegment":{"type":"string"},"releaseDate":{"type":"string","format":"date-time"}},"required":["insurer","insurerSegment","releaseDate"],"additionalProperties":false},"comparisonKey":{"nullable":true,"type":"string"}},"required":["id","status","oldFileVersion","newFileVersion","comparisonKey"],"additionalProperties":false}}}}}}},"/api/file/comparison/webhook":{"post":{"tags":["Comparações","Webhook"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["success","error"]},"s3_result_key":{"type":"string"},"message":{"type":"string"},"original_request":{"type":"object","properties":{"insurer":{"type":"string"},"insurer_segment":{"type":"string"},"old_file_version_release_date":{"type":"string"},"new_file_version_release_date":{"type":"string"}},"required":["insurer","insurer_segment","old_file_version_release_date","new_file_version_release_date"]}},"required":["status","original_request"]}}},"required":true},"responses":{}}}},"servers":[]}